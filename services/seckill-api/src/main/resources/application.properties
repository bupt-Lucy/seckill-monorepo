# 1. 服务端口与应用名
server.port=${SECKILL_API_PORT:8080}
spring.application.name=${SECKILL_APP_NAME:seckill-api}

# 2. Nacos 注册/发现
spring.cloud.nacos.discovery.server-addr=${NACOS_SERVER_ADDR:localhost:8848}
spring.cloud.nacos.discovery.ip=${NACOS_IP:localhost}

# 3. Redis 配置
spring.redis.host=${REDIS_HOST:localhost}
spring.redis.port=${REDIS_PORT:6379}

# ================== RocketMQ Configuration ==================
rocketmq.name-server=${ROCKETMQ_NAMESRV:localhost:9876}
rocketmq.producer.group=${ROCKETMQ_PRODUCER_GROUP:seckill-api-producer-group}
rocketmq.producer.transaction-group=${ROCKETMQ_TX_GROUP:seckill-api-tx-group}

# 4. 数据库（不要把明文密码放在该文件）
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:mysql://${MYSQL_HOST:localhost}:${MYSQL_PORT:3306}/${MYSQL_DATABASE:seckill_db}?useUnicode=true&characterEncoding=utf-8&serverTimezone=Asia/Shanghai}
spring.datasource.username=${MYSQL_USER:root}
spring.datasource.password=${MYSQL_PASSWORD:}

# 5. Actuator / Metrics
management.endpoints.web.exposure.include=*
management.metrics.tags.application=${spring.application.name}

# ================ Cache (Caffeine / Redisson) ================
spring.cache.type=${SPRING_CACHE_TYPE:caffeine}
spring.cache.cache-names=product
spring.cache.caffeine.spec=${SPRING_CACHE_CAFFEINE_SPEC:maximumSize=500,expireAfterWrite=10m}
